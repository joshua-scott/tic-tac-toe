{"version":3,"sources":["app.js"],"names":["cells","document","querySelectorAll","wins","movesMade","makeMove","isEmpty","textContent","isGameOver","cpuMove","lastPlayer","checkForWinner","gameOver","checkForDraw","board","forEach","c","push","result","win","threeInARow","cell","first","second","third","where","winner","alert","newGame","addEventListener"],"mappings":";;AAAA,MAAMA,QAAQC,SAASC,gBAAT,CAA0B,OAA1B,CAAd;;AAEA,MAAMC,OAAO,CACX,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADW,EACF,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADE,EACO,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CADP,EACiB;AAC5B,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFW,EAEF,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFE,EAEO,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAFP,EAEiB;AAC5B,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAHW,EAGF,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAHE,CAGiB;AAHjB,CAAb;;AAMA,IAAIC,YAAY,CAAhB;;AAEA,SAASC,QAAT,GAAoB;AAClB,MAAI,CAACC,QAAQ,IAAR,CAAL,EAAoB;;AAEpB,OAAKC,WAAL,GAAmB,GAAnB;AACAH;;AAEA,MAAII,WAAW,QAAX,CAAJ,EAA0B;;AAE1BC;AACAD,aAAW,KAAX;AACD;;AAED,SAASA,UAAT,CAAoBE,UAApB,EAAgC;AAC9B,MAAIC,gBAAJ,EAAsB;AACpBC,aAASF,UAAT;AACA,WAAO,IAAP;AACD,GAHD,MAGO,IAAIG,cAAJ,EAAoB;AACzBD,aAAS,MAAT;AACA,WAAO,IAAP;AACD,GAHM,MAGA;AACL,WAAO,KAAP;AACD;AACF;;AAED,SAASD,cAAT,GAA0B;AACxB;AACA,QAAMG,QAAQ,EAAd;AACAd,QAAMe,OAAN,CAAcC,KAAKF,MAAMG,IAAN,CAAWD,EAAET,WAAb,CAAnB;;AAEA;AACA,MAAIW,SAAS,KAAb;AACAf,OAAKY,OAAL,CAAaI,OAAO;AAClB,QAAIC,YAAYN,MAAMK,IAAI,CAAJ,CAAN,CAAZ,EAA2BL,MAAMK,IAAI,CAAJ,CAAN,CAA3B,EAA0CL,MAAMK,IAAI,CAAJ,CAAN,CAA1C,CAAJ,EAA8D;AAC5DD,eAAS,IAAT;AACD;AACF,GAJD;AAKA,SAAOA,MAAP;AACD;;AAED,SAASL,YAAT,GAAwB;AACtB,SAAQT,aAAa,CAArB;AACD;;AAED,SAASE,OAAT,CAAiBe,IAAjB,EAAuB;AACrB,SAAOA,KAAKd,WAAL,KAAqB,EAA5B;AACD;;AAED,SAASa,WAAT,CAAqBE,KAArB,EAA4BC,MAA5B,EAAoCC,KAApC,EAA2C;AACzC,SAAQF,UAAU,EAAV,IAAgBA,UAAUC,MAA1B,IAAoCA,WAAWC,KAAvD;AACD;;AAED,SAASf,OAAT,GAAmB;AACjB;AACA,OAAK,IAAIgB,QAAQ,CAAjB,EAAoBA,QAAQ,CAA5B,EAA+BA,OAA/B,EAAwC;AACtC,QAAInB,QAAQN,MAAMyB,KAAN,CAAR,CAAJ,EAA2B;AACzBzB,YAAMyB,KAAN,EAAalB,WAAb,GAA2B,GAA3B;AACAH;AACA;AACD;AACF;AACF;;AAED,SAASQ,QAAT,CAAkBc,MAAlB,EAA0B;AACxBA,aAAW,MAAX,GAAoBC,MAAO,cAAP,CAApB,GAA4CA,MAAO,GAAED,MAAO,QAAhB,CAA5C;AACAE;AACD;;AAED,SAASA,OAAT,GAAmB;AACjBxB,cAAY,CAAZ;AACAJ,QAAMe,OAAN,CAAcC,KAAKA,EAAET,WAAF,GAAgB,EAAnC;AACD;;AAEDP,MAAMe,OAAN,CAAcC,KAAKA,EAAEa,gBAAF,CAAmB,OAAnB,EAA4BxB,QAA5B,CAAnB","file":"app.js","sourcesContent":["const cells = document.querySelectorAll('.cell');\r\n\r\nconst wins = [\r\n  [0,1,2], [3,4,5], [6,7,8],  // horizontal\r\n  [0,3,6], [1,4,7], [2,5,8],  // vertical\r\n  [0,4,8], [2,4,6]            // diagonal\r\n];\r\n\r\nlet movesMade = 0;\r\n\r\nfunction makeMove() {\r\n  if (!isEmpty(this)) return;\r\n\r\n  this.textContent = 'X';\r\n  movesMade++;\r\n  \r\n  if (isGameOver('Player')) return;\r\n\r\n  cpuMove();\r\n  isGameOver('CPU');\r\n}\r\n\r\nfunction isGameOver(lastPlayer) {\r\n  if (checkForWinner()) {\r\n    gameOver(lastPlayer);\r\n    return true;\r\n  } else if (checkForDraw()) {\r\n    gameOver('Draw');\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction checkForWinner() {\r\n  // Build array to represent the board\r\n  const board = [];\r\n  cells.forEach(c => board.push(c.textContent));\r\n\r\n  // Check the board against 'wins' array\r\n  let result = false;\r\n  wins.forEach(win => {\r\n    if (threeInARow(board[win[0]], board[win[1]], board[win[2]])) {\r\n      result = true;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nfunction checkForDraw() {\r\n  return (movesMade >= 9);\r\n}\r\n\r\nfunction isEmpty(cell) {\r\n  return cell.textContent === '';\r\n}\r\n\r\nfunction threeInARow(first, second, third) {\r\n  return (first !== '' && first === second && second === third);\r\n}\r\n\r\nfunction cpuMove() {\r\n  // Just go in the first available place for now...\r\n  for (let where = 0; where < 9; where++) {\r\n    if (isEmpty(cells[where])) {\r\n      cells[where].textContent = 'O';\r\n      movesMade++;\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction gameOver(winner) {\r\n  winner === 'Draw' ? alert(`It's a draw!`) : alert(`${winner} wins!`);\r\n  newGame();\r\n}\r\n\r\nfunction newGame() {\r\n  movesMade = 0;\r\n  cells.forEach(c => c.textContent = '');\r\n}\r\n\r\ncells.forEach(c => c.addEventListener('click', makeMove));"]}